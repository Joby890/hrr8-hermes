<!DOCTYPE html>
<html>
<head>
<title>r6</title>
<link href='https://fonts.googleapis.com/css?family=Exo' rel='stylesheet' type='text/css'>  
<link href='../styles/styles.css' rel='stylesheet' type='text/css'>   
<!-- External libraries -->
<!-- @if DEBUG='true' -->
<script src="/socket.io/socket.io.js"></script>
<script src="js/external/babylon.2.2.js"></script>

<!-- Internal files -->
<!-- Loading wrapper around Babylon's ImportMesh -->
<script src="js/loader.js"></script>
<!-- art helper functions -->
<script src="js/artHelpers.js"></script>
<!-- player (robot) states for robot -->
<script src="js/running.js"></script>
<script src="js/death.js"></script>
<script src="js/boosting.js"></script>
<script src="js/waiting.js"></script>
<!-- player (robot) object model -->
<script src="js/robotModel.js"></script>
<!-- register USER_INPUT array and listeners -->
<script src="js/input.js"></script>
<!-- sets ASSETS array and ASSET_SCALE float -->
<script src="js/assets.js"></script>
<!-- defines materials for objects -->
<script src="js/materials.js"></script>
<!-- create particle systems to be called later -->
<script src="js/particleSystems.js"></script>
<!-- lap data billboard -->
<script src="js/lapReporter.js"></script>

<!-- contains game scene set and render loop -->
<script src="js/r6.js"></script>

<script src="http://localhost:3001"></script>
<!-- @endif -->

<!-- @if DEBUG='false' -->
<script src="<!-- @echo socketCDN -->"></script>
<script src="<!-- @echo babylonCDN -->"></script>

<!-- internal -->
<script src="js/r6.js"></script>
<!-- @endif -->
</head>
<body>
<img class='ene' src='/assets/energy_bar_bottom.png'></img>
<img class='ene' id='energy' src='/assets/energy_bar_mid.png'></img>
<img class='ene' src='/assets/energy_bar_top.png'></img>
<canvas id="renderCanvas"></canvas>
<h1 id='info'></h1>
<p class='absent' id='instructions'>
  WASD: Movement<br/>
  E: Fire Cannon<br/>
  Space: Boost<br/>
  Enter: Ready to start<br/>
  M: Mute music<br/>
  Boost carefully...draining your energy gauge to zero will destroy your robot!
  When all players have pressed Enter, the race will begin.
  <br/>
  <br/>
  By Joe Brumaghim, Leo Thorp, Corey Wolff, and James Yokobosky
</p>
<script>
// connect to server
// TODO: socket connect here

// BABYLON setup
var canvas = document.getElementById('renderCanvas');
var engine = new BABYLON.Engine(canvas,true);
var scene = new BABYLON.Scene(engine);

// preload assets, finish setup, begin render loop
loadAssets(ASSETS, ASSET_SCALE, scene, false, runScene);

</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-68549418-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
